var _throttle=require("lodash.throttle"),_debounce=require("lodash.debounce"),_extend=require("lodash.assign"),observe=require("./libs/observer"),classListShim=require("./libs/classList-shim"),detect=require("./helpers/detector"),calculateOffset=require("./helpers/calculateOffset"),handleScroll=require("./helpers/handleScroll"),prepare=require("./helpers/prepare"),elements=require("./helpers/elements");!function(e,t){var r=[],o=!1,n={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded"},a=function(e){return e&&e===!0&&(o=!0),o?(r=prepare(r),handleScroll(r,n.once),r):void 0},s=function(o){return n=_extend(n,o),r=elements(),n.disable&&(n.disable===!0||"mobile"===n.disable&&detect.mobile()||"phone"===n.disable&&detect.phone()||"tablet"===n.disable&&detect.tablet()||"function"==typeof n.disable&&n.disable()===!0)?([].forEach.call(r,function(e){e.node.removeAttribute("aos"),e.node.removeAttribute("aos-easing"),e.node.removeAttribute("aos-duration"),e.node.removeAttribute("aos-delay")}),!1):(t.querySelector("body").setAttribute("aos-easing",n.easing),t.querySelector("body").setAttribute("aos-duration",n.duration),t.querySelector("body").setAttribute("aos-delay",n.delay),t.addEventListener(n.startEvent,function(){a(!0)}),e.addEventListener("resize orientationchange",_debounce(a,50,!0)),e.addEventListener("scroll",_throttle(function(){handleScroll(r,n.once)},99)),t.addEventListener("DOMNodeRemoved",function(e){var t=e.target;t&&1===t.nodeType&&t.hasAttribute&&e.target.hasAttribute("aos")&&_debounce(a,50,!0)}),observe("[aos]",a),r)},i={init:s,refresh:a};e.AOS=i}(window,document);